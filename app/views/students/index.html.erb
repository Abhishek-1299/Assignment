<h1>All Students</h1>
<div class="container">
  <div class="row">
    <div class="col-md-6">
      <%= link_to 'New Student', new_student_path, class: "btn btn-primary" %><br><br>
    </div>
    <div class="col-md-6">
      <%= form_with url: '/students', method: :get, local: true do |form| %>
        <div class="form-group">
          <%= form.label :keyword, "Search by Name or Course" %>
          <%= form.text_field :keyword, class: "form-control" %>
        </div>
        <%= form.submit "Search", class: "btn btn-primary"%>  
      <% end %>
    </div>
  </div>
</div>

<table class="table table-striped">
  <thead>
    <tr>
      <th>Name</th>
      <th>Course Name</th>
      <th colspan="3">Actions</th>
    </tr>
  </thead>
  <tbody>
    <% (@students||[]).each do |student| %>
      <tr>
        <td><%= student.name %></td>
        <td><%= student.course.name %></td>
        <td><%= link_to 'View', student, class: "btn btn-success" %></td>
        <td><%= link_to 'Edit', edit_student_path(student), class: "btn btn-warning" %></td>
        <td><%= link_to "Destroy", student_path(student), method: :delete, data: { confirm: 'Are you sure?' }, class: "btn btn-danger" %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<div class="text-center">
  <%= link_to 'Back', welcome_path, class: "btn btn-secondary" %>
</div>